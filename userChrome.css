/* Expands the Zen Browser sidebar on hover */

:root {
    --hover-width: 230px;
    --hover-transition: 200ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Sidebar base styling */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox {
    position: relative !important;
    z-index: 100 !important;
    transition: max-width var(--hover-transition), min-width var(--hover-transition) !important;
}

/* Expand on hover */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover {
    max-width: var(--hover-width) !important;
    min-width: var(--hover-width) !important;
    padding: var(--zen-toolbox-padding) !important;
    padding-left: 0 !important;
    padding-top: 0 !important;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15) !important;
}

/* Normal tabs - show labels when expanded */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab .tab-label-container,
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab vbox.tab-label-container {
    display: flex !important;
    flex: 1 1 auto !important;
    align-items: center !important;
    opacity: 1 !important;
    visibility: visible !important;
    width: auto !important;
    min-width: 0 !important;
    max-width: none !important;
    height: auto !important;
    max-height: none !important;
    position: relative !important;
    clip: auto !important;
    clip-path: none !important;
    overflow: visible !important;
}

/* Make tabs full width */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
}

/* Tab titles */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab .tab-text.tab-label,
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab label.tab-text {
    display: block !important;
    flex: 1 1 auto !important;
    opacity: 1 !important;
    visibility: visible !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    width: auto !important;
    min-width: 0 !important;
    max-width: none !important;
    color: inherit !important;
}

/* Tab content layout */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab .tab-content,
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-workspace-normal-tabs-section .tabbrowser-tab hbox.tab-content {
    display: flex !important;
    flex: 1 1 auto !important;
    align-items: center !important;
    justify-content: flex-start !important;
    column-gap: 8px !important;
    width: 100% !important;
    padding: 0 var(--tab-inline-padding, 8px) !important;
    min-width: 0 !important;
}

/* Pinned tabs */

:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover #zen-essentials .tabbrowser-tab .tab-label-container {
    display: flex !important;
    flex: 1 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover #zen-essentials .tabbrowser-tab .tab-text.tab-label {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
}

:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover #zen-essentials .tabbrowser-tab .tab-content {
    display: flex !important;
    justify-content: flex-start !important;
    padding: 0 var(--tab-inline-padding, 8px) !important;
}

/* Workspace name */

:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-current-workspace-indicator-name {
    display: flex !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    opacity: 0.7 !important;
    font-weight: 600 !important;
}

:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .zen-current-workspace-indicator {
    padding: calc(2px + var(--tab-inline-padding, 8px) + var(--zen-toolbox-padding, 6px)) !important;
    gap: 10px !important;
    align-items: center !important;
    flex-direction: row !important;
    width: 100% !important;
    overflow: hidden !important;
}

/* Button labels */

:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .toolbarbutton-text {
    display: flex !important;
}

/* Tab background */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .tabbrowser-tab .tab-background {
    margin-inline: var(--tab-block-margin, 2px) !important;
    width: -moz-available !important;
}

/* Space after icons */
:root:not([zen-sidebar-expanded="true"]) #navigator-toolbox:hover .tabbrowser-tab .tab-icon-stack {
    margin-inline-end: 8px !important;
}
